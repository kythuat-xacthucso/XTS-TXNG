<div class="content-card">
    <!-- Page Header -->
    <div class="page-header d-flex justify-content-between align-items-center mb-4">
        <div>
            <h3 class="page-title" id="entityName">Công ty ABC</h3>
            <p class="page-breadcrumb mb-0">Khách hàng / Quản lý chủ thể / <span id="entityStatus">Đang hoạt động</span></p>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="position-fixed top-0 end-0 p-3" style="z-index: 1055;">
        <!-- Toast will be dynamically added here -->
    </div>

    <!-- Tabs -->
    <ul class="nav nav-tabs mb-4" id="entityTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab" aria-controls="info" aria-selected="true">Thông tin</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab" aria-controls="users" aria-selected="false">Người dùng</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="entities-tab" data-bs-toggle="tab" data-bs-target="#entities" type="button" role="tab" aria-controls="entities" aria-selected="false">Chủ thể sản xuất</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="services-tab" data-bs-toggle="tab" data-bs-target="#services" type="button" role="tab" aria-controls="services" aria-selected="false">Dịch vụ</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="stamps-tab" data-bs-toggle="tab" data-bs-target="#stamps" type="button" role="tab" aria-controls="stamps" aria-selected="false">Tem và mã</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="payments-tab" data-bs-toggle="tab" data-bs-target="#payments" type="button" role="tab" aria-controls="payments" aria-selected="false">Thanh toán</button>
        </li>
    </ul>

    <!-- Tab Content -->
    <div class="tab-content" id="entityTabContent">
        <!-- Tab Thông tin -->
        <div class="tab-pane fade show active" id="info" role="tabpanel" aria-labelledby="info-tab">
            <div class="row">
                <!-- Cột Thông tin -->
                <div class="col-md-7">
                    <!-- Thông tin Chủ thể -->
                    <div class="info-box">
                        <div class="section-title">Thông tin Chủ thể</div>
                        <div class="row">
                            <div class="col-md-6 mb-3"><span class="label-bold">Mã chủ thể:</span> <span id="entityCode">CT001</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Tên chủ thể:</span> <span id="entityNameInfo">Công ty ABC</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Số điện thoại:</span> <span id="entityPhone">0901234567</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Email:</span> <span id="entityEmail">info@abc.com</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Tên đầy đủ:</span> <span id="entityFullName">Công ty TNHH ABC</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Tên tiếng Anh:</span> <span id="entityEnglishName">ABC Ltd.</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Tên viết tắt:</span> <span id="entityShortName">ABC</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Mã số thuế:</span> <span id="entityTaxCode">123456789</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Ngày ĐKKD:</span> <span id="entityRegDate">01/01/2020</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Mã GCP:</span> <span id="entityGCPCode">GCP123456</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Nơi cấp ĐKKD:</span> <span id="entityRegPlace">Hà Nội</span></div>
                            <div class="col-md-12 mb-3"><span class="label-bold">Địa chỉ ĐKKD:</span> <span id="entityRegAddress">123 Đường ABC, Quận XYZ, Hà Nội</span></div>
                            <div class="col-md-6 mb-3">
                                <span class="label-bold">Website:</span>
                                <a id="entityWebsite" href="https://abc.com" target="_blank">abc.com</a>
                            </div>
                            <div class="col-md-6 mb-3">
                                <span class="label-bold">Kênh Youtube:</span>
                                <a id="entityYoutube" href="https://youtube.com/abc" target="_blank">youtube.com/abc</a>
                            </div>
                            <div class="col-md-12 mb-3">
                                <span class="label-bold">Tọa độ (Map):</span>
                                <iframe id="entityMap" src="https://maps.google.com/maps?q=Hanoi&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="200" style="border:0;" allowfullscreen loading="lazy"></iframe>
                            </div>
                            <div class="col-md-12 mb-3">
                                <span class="label-bold">Mô tả:</span> <span id="entityDescription">Đây là mô tả ngắn về chủ thể...</span>
                            </div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Loại hình:</span> <span id="entityType">Tổ chức</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Trạng thái:</span> <span id="entityStatusInfo">Đang hoạt động</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Ngày tạo:</span> <span id="entityCreatedAt">15/01/2023</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Người tạo:</span> <span id="entityCreatedBy">admin01</span></div>
                        </div>
                    </div>

                    <!-- Chủ sở hữu -->
                    <div class="info-box">
                        <div class="section-title">Thông tin Chủ sở hữu</div>
                        <div class="row">
                            <div class="col-md-6 mb-3"><span class="label-bold">Tên:</span> <span id="ownerName">Nguyễn Văn A</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">SĐT:</span> <span id="ownerPhone">0912345678</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Email:</span> <span id="ownerEmail">nguyenva@example.com</span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Địa chỉ:</span> <span id="ownerAddress">99 Đường DEF, TP.HCM</span></div>
                            <div class="col-md-12 text-center mb-3">
                                <img id="ownerAvatar" src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" alt="Avatar Chủ sở hữu" class="avatar-img" style="max-width: 150px; cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cột Hình ảnh -->
                <div class="col-md-5">
                    <div class="info-box">
                        <div class="section-title">Hình ảnh</div>
                        <!-- Logo -->
                        <div class="mb-4">
                            <div class="label-bold mb-1">Logo:</div>
                            <img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="logo-img" alt="Logo" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal">
                        </div>
                        <!-- Ảnh ĐKKD -->
                        <div class="mb-4">
                            <div class="label-bold mb-1">Ảnh ĐKKD:</div>
                            <div class="row img-grid">
                                <div class="col-6"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="dkkd-img" alt="DKKD 1" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                                <div class="col-6"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="dkkd-img" alt="DKKD 2" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                            </div>
                        </div>
                        <!-- Ảnh khác -->
                        <div>
                            <div class="label-bold mb-1">Ảnh khác:</div>
                            <div class="row img-grid">
                                <div class="col-4"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="other-img" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                                <div class="col-4"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="other-img" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                                <div class="col-4"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="other-img" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                                <div class="col-4"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="other-img" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                                <div class="col-4"><img src="https://xacthucso.s3.amazonaws.com/u1220-e87dc337-dddb-48bd-94d0-96067661657b.png" class="other-img" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#imagePreviewModal"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab Người dùng -->
        <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab">
            <!-- Table (Desktop) -->
            <div class="table-responsive d-none d-lg-block">
                <table class="table table-hover w-100">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Tên người dùng</th>
                            <th>Số điện thoại</th>
                            <th>Email</th>
                            <th>Địa chỉ</th>
                            <th>Trạng thái</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Dữ liệu sẽ được render động bằng JS -->
                    </tbody>
                </table>
                <!-- Page Navigation and Items Per Page -->
                <div class="d-flex justify-content-between align-items-center mt-3 pagination-container">
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="usersPagination">
                            <!-- Phân trang sẽ được render động bằng JS -->
                        </ul>
                    </nav>
                    <div class="d-flex align-items-center pagination-info">
                        <span class="me-2">Số bản ghi:</span>
                        <select id="usersItemsPerPage" class="form-select form-select-sm" onchange="changeUsersItemsPerPage()">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Cards (Tablet/Mobile) -->
            <div class="row d-lg-none" id="usersCardBody">
                <!-- Dữ liệu sẽ được render động bằng JS -->
            </div>
            <!-- Page Navigation for Mobile -->
            <div class="d-lg-none mt-3 d-flex justify-content-between align-items-center pagination-container">
                <nav aria-label="Page navigation">
                    <ul class="pagination" id="usersMobilePagination">
                        <!-- Phân trang sẽ được render động bằng JS -->
                    </ul>
                </nav>
                <div class="d-flex align-items-center pagination-info">
                    <span class="me-2">Số bản ghi:</span>
                    <select id="usersMobileItemsPerPage" class="form-select form-select-sm" onchange="changeUsersItemsPerPage()">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
            <!-- Add New Button -->
            <div class="mt-3">
                <button class="btn btn-primary" onclick="addNewUser()">Thêm mới</button>
            </div>
        </div>

        <!-- Tab Chủ thể sản xuất -->
        <div class="tab-pane fade" id="entities" role="tabpanel" aria-labelledby="entities-tab">
            <!-- Table (Desktop) -->
            <div class="table-responsive d-none d-lg-block">
                <table class="table table-hover w-100">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Mã chủ thể</th>
                            <th>Tên chủ thể</th>
                            <th>Mã số thuế</th>
                            <th>Số điện thoại</th>
                            <th>Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody id="entitiesTableBody">
                        <!-- Dữ liệu sẽ được render động bằng JS -->
                    </tbody>
                </table>
                <!-- Page Navigation and Items Per Page -->
                <div class="d-flex justify-content-between align-items-center mt-3 pagination-container">
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="entitiesPagination">
                            <!-- Phân trang sẽ được render động bằng JS -->
                        </ul>
                    </nav>
                    <div class="d-flex align-items-center pagination-info">
                        <span class="me-2">Số bản ghi:</span>
                        <select id="entitiesItemsPerPage" class="form-select form-select-sm" onchange="changeEntitiesItemsPerPage()">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Cards (Tablet/Mobile) -->
            <div class="row d-lg-none" id="entitiesCardBody">
                <!-- Dữ liệu sẽ được render động bằng JS -->
            </div>
            <!-- Page Navigation for Mobile -->
            <div class="d-lg-none mt-3 d-flex justify-content-between align-items-center pagination-container">
                <nav aria-label="Page navigation">
                    <ul class="pagination" id="entitiesMobilePagination">
                        <!-- Phân trang sẽ được render động bằng JS -->
                    </ul>
                </nav>
                <div class="d-flex align-items-center pagination-info">
                    <span class="me-2">Số bản ghi:</span>
                    <select id="entitiesMobileItemsPerPage" class="form-select form-select-sm" onchange="changeEntitiesItemsPerPage()">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
            <!-- Add New Button -->
            <div class="mt-3">
                <button class="btn btn-primary" onclick="createEntityLink()">Tạo liên kết mới</button>
            </div>
        </div>

        <!-- Tab Dịch vụ -->
        <div class="tab-pane fade" id="services" role="tabpanel" aria-labelledby="services-tab">
            <!-- Table (Desktop) -->
            <div class="table-responsive d-none d-lg-block">
                <table class="table table-hover w-100">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Tên gói dịch vụ</th>
                            <th>Giá tiền</th>
                            <th>Thời gian</th>
                            <th>Thời gian mua</th>
                            <th>Thời gian hết hạn</th>
                            <th>Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody id="servicesTableBody">
                        <!-- Dữ liệu sẽ được render động bằng JS -->
                    </tbody>
                </table>
                <!-- Page Navigation and Items Per Page -->
                <div class="d-flex justify-content-between align-items-center mt-3 pagination-container">
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="servicesPagination">
                            <!-- Phân trang sẽ được render động bằng JS -->
                        </ul>
                    </nav>
                    <div class="d-flex align-items-center pagination-info">
                        <span class="me-2">Số bản ghi:</span>
                        <select id="servicesItemsPerPage" class="form-select form-select-sm" onchange="changeServicesItemsPerPage()">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Cards (Tablet/Mobile) -->
            <div class="row d-lg-none" id="servicesCardBody">
                <!-- Dữ liệu sẽ được render động bằng JS -->
            </div>
            <!-- Page Navigation for Mobile -->
            <div class="d-lg-none mt-3 d-flex justify-content-between align-items-center pagination-container">
                <nav aria-label="Page navigation">
                    <ul class="pagination" id="servicesMobilePagination">
                        <!-- Phân trang sẽ được render động bằng JS -->
                    </ul>
                </nav>
                <div class="d-flex align-items-center pagination-info">
                    <span class="me-2">Số bản ghi:</span>
                    <select id="servicesMobileItemsPerPage" class="form-select form-select-sm" onchange="changeServicesItemsPerPage()">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Tab Tem và mã -->
        <div class="tab-pane fade" id="stamps" role="tabpanel" aria-labelledby="stamps-tab">
            <!-- Table (Desktop) -->
            <div class="table-responsive d-none d-lg-block">
                <table class="table table-hover w-100">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Số lượng</th>
                            <th>Từ số</th>
                            <th>Đến số</th>
                            <th>Thời gian in</th>
                            <th>Người in</th>
                            <th>Chủ thể in</th>
                            <th>Trạng thái</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody id="stampsTableBody">
                        <!-- Dữ liệu sẽ được render động bằng JS -->
                    </tbody>
                </table>
                <!-- Page Navigation and Items Per Page -->
                <div class="d-flex justify-content-between align-items-center mt-3 pagination-container">
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="stampsPagination">
                            <!-- Phân trang sẽ được render động bằng JS -->
                        </ul>
                    </nav>
                    <div class="d-flex align-items-center pagination-info">
                        <span class="me-2">Số bản ghi:</span>
                        <select id="stampsItemsPerPage" class="form-select form-select-sm" onchange="changeStampsItemsPerPage()">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Cards (Tablet/Mobile) -->
            <div class="row d-lg-none" id="stampsCardBody">
                <!-- Dữ liệu sẽ được render động bằng JS -->
            </div>
            <!-- Page Navigation for Mobile -->
            <div class="d-lg-none mt-3 d-flex justify-content-between align-items-center pagination-container">
                <nav aria-label="Page navigation">
                    <ul class="pagination" id="stampsMobilePagination">
                        <!-- Phân trang sẽ được render động bằng JS -->
                    </ul>
                </nav>
                <div class="d-flex align-items-center pagination-info">
                    <span class="me-2">Số bản ghi:</span>
                    <select id="stampsMobileItemsPerPage" class="form-select form-select-sm" onchange="changeStampsItemsPerPage()">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
            <!-- Add New Button -->
            <div class="mt-3">
                <button class="btn btn-primary" onclick="addNewStamp()">Thêm mới</button>
            </div>
        </div>

        <!-- Tab Thanh toán -->
        <div class="tab-pane fade" id="payments" role="tabpanel" aria-labelledby="payments-tab">
            <!-- Table (Desktop) -->
            <div class="table-responsive d-none d-lg-block">
                <table class="table table-hover w-100">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Mã đơn</th>
                            <th>Số tiền</th>
                            <th>Thời gian tạo</th>
                            <th>Thời gian thanh toán</th>
                            <th>Người duyệt</th>
                            <th>Trạng thái</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody id="paymentsTableBody">
                        <!-- Dữ liệu sẽ được render động bằng JS -->
                    </tbody>
                </table>
                <!-- Page Navigation and Items Per Page -->
                <div class="d-flex justify-content-between align-items-center mt-3 pagination-container">
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="paymentsPagination">
                            <!-- Phân trang sẽ được render động bằng JS -->
                        </ul>
                    </nav>
                    <div class="d-flex align-items-center pagination-info">
                        <span class="me-2">Số bản ghi:</span>
                        <select id="paymentsItemsPerPage" class="form-select form-select-sm" onchange="changePaymentsItemsPerPage()">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Cards (Tablet/Mobile) -->
            <div class="row d-lg-none" id="paymentsCardBody">
                <!-- Dữ liệu sẽ được render động bằng JS -->
            </div>
            <!-- Page Navigation for Mobile -->
            <div class="d-lg-none mt-3 d-flex justify-content-between align-items-center pagination-container">
                <nav aria-label="Page navigation">
                    <ul class="pagination" id="paymentsMobilePagination">
                        <!-- Phân trang sẽ được render động bằng JS -->
                    </ul>
                </nav>
                <div class="d-flex align-items-center pagination-info">
                    <span class="me-2">Số bản ghi:</span>
                    <select id="paymentsMobileItemsPerPage" class="form-select form-select-sm" onchange="changePaymentsItemsPerPage()">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="d-flex justify-content-end mt-4">
        <button class="btn btn-secondary me-2" onclick="goBack()">Quay lại</button>
        <button class="btn btn-primary me-2" onclick="editEntity()">Sửa</button>
        <button class="btn btn-danger" id="lockButton" onclick="lockEntity()">Khóa</button>
    </div>

    <!-- Modal for Image Preview -->
    <div class="modal fade" id="imagePreviewModal" tabindex="-1" aria-labelledby="imagePreviewModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="imagePreviewModalLabel">Xem ảnh</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img id="previewImage" src="" alt="Image Preview" style="width: 100%;">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Confirm Lock/Unlock -->
    <div class="modal fade" id="confirmLockModal" tabindex="-1" aria-labelledby="confirmLockModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmLockModalLabel">Xác nhận khóa/mở khóa</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="confirmLockMessage">Bạn có chắc chắn muốn khóa chủ thể này không?</p>
                    <p id="confirmLockName"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-danger" id="confirmLockButton">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Add New User -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addUserModalLabel">Thêm mới người dùng</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addUserForm">
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="searchType" id="searchByPhone" value="phone" checked>
                                <label class="form-check-label" for="searchByPhone">Số điện thoại</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="searchType" id="searchByEmail" value="email">
                                <label class="form-check-label" for="searchByEmail">Email</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="searchInput" placeholder="Nhập số điện thoại hoặc email">
                        </div>
                        <div id="userInfo" class="d-none">
                            <div class="mb-3">
                                <label class="form-label">Tên người dùng</label>
                                <input type="text" class="form-control" id="userName" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Số điện thoại</label>
                                <input type="text" class="form-control" id="userPhone" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="text" class="form-control" id="userEmail" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Địa chỉ</label>
                                <input type="text" class="form-control" id="userAddress" readonly>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-primary" id="checkUserButton" onclick="checkUser()">Kiểm tra</button>
                    <button type="button" class="btn btn-primary d-none" id="linkUserButton" onclick="confirmLinkUser()">Liên kết</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Confirm Link/Unlink User -->
    <div class="modal fade" id="confirmUserLinkModal" tabindex="-1" aria-labelledby="confirmUserLinkModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmUserLinkModalLabel">Xác nhận liên kết/hủy liên kết</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="confirmUserLinkMessage"></p>
                    <p id="confirmUserLinkName"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary" id="confirmUserLinkButton">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Create Entity Link -->
    <div class="modal fade" id="createEntityLinkModal" tabindex="-1" aria-labelledby="createEntityLinkModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createEntityLinkModalLabel">Tạo liên kết chủ thể</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="createEntityLinkForm">
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="searchEntityType" id="searchEntityByPhone" value="phone" checked>
                                <label class="form-check-label" for="searchEntityByPhone">Số điện thoại</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="searchEntityType" id="searchEntityByEmail" value="email">
                                <label class="form-check-label" for="searchEntityByEmail">Email</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="searchEntityInput" placeholder="Nhập số điện thoại hoặc email">
                        </div>
                        <div id="entityInfo" class="d-none">
                            <div class="mb-3">
                                <label class="form-label">Mã chủ thể</label>
                                <input type="text" class="form-control" id="linkedEntityCode" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Tên chủ thể</label>
                                <input type="text" class="form-control" id="linkedEntityName" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Số điện thoại</label>
                                <input type="text" class="form-control" id="linkedEntityPhone" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="text" class="form-control" id="linkedEntityEmail" readonly>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Địa chỉ</label>
                                <input type="text" class="form-control" id="linkedEntityAddress" readonly>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-primary" id="checkEntityButton" onclick="checkEntity()">Kiểm tra</button>
                    <button type="button" class="btn btn-primary d-none" id="linkEntityButton" onclick="confirmLinkEntity()">Liên kết</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Confirm Link Entity -->
    <div class="modal fade" id="confirmEntityLinkModal" tabindex="-1" aria-labelledby="confirmEntityLinkModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmEntityLinkModalLabel">Xác nhận liên kết</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="confirmEntityLinkMessage"></p>
                    <p id="confirmEntityLinkName"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary" id="confirmEntityLinkButton">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Add New Stamp -->
    <div class="modal fade" id="addStampModal" tabindex="-1" aria-labelledby="addStampModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addStampModalLabel">Thêm mới tem</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addStampForm">
                        <div class="mb-3">
                            <label class="form-label">Số lượng</label>
                            <input type="number" class="form-control" id="stampQuantity" placeholder="Nhập số lượng tem">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary" onclick="confirmAddStamp()">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Confirm Add Stamp -->
    <div class="modal fade" id="confirmAddStampModal" tabindex="-1" aria-labelledby="confirmAddStampModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmAddStampModalLabel">Xác nhận lấy file Excel</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Bạn có chắc chắn muốn lấy file Excel cho lô tem này không?</p>
                    <p id="confirmStampQuantity"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary" id="confirmAddStampButton">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Stamp Details -->
    <div class="modal fade" id="stampDetailModal" tabindex="-1" aria-labelledby="stampDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="stampDetailModalLabel">Chi tiết lượt in tem</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="info-box">
                        <div class="section-title">Thông tin lượt in</div>
                        <div class="row">
                            <div class="col-md-6 mb-3"><span class="label-bold">Số lượng:</span> <span id="stampDetailQuantity"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Từ số:</span> <span id="stampDetailFrom"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Đến số:</span> <span id="stampDetailTo"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Thời gian in:</span> <span id="stampDetailPrintTime"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Người in:</span> <span id="stampDetailPrinter"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Trạng thái:</span> <span id="stampDetailStatus"></span></div>
                        </div>
                    </div>
                    <div class="info-box">
                        <div class="section-title">Danh sách tem</div>
                        <div class="table-responsive">
                            <table class="table table-hover w-100">
                                <thead>
                                    <tr>
                                        <th>Số thứ tự tem</th>
                                        <th>Mã định danh</th>
                                        <th>Trạng thái</th>
                                    </tr>
                                </thead>
                                <tbody id="stampDetailTableBody">
                                    <!-- Dữ liệu sẽ được render động bằng JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Payment Details -->
    <div class="modal fade" id="paymentDetailModal" tabindex="-1" aria-labelledby="paymentDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="paymentDetailModalLabel">Chi tiết thanh toán</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="info-box">
                        <div class="section-title">Thông tin thanh toán</div>
                        <div class="row">
                            <div class="col-md-6 mb-3"><span class="label-bold">Mã đơn:</span> <span id="paymentDetailCode"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Số tiền:</span> <span id="paymentDetailAmount"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Thời gian tạo:</span> <span id="paymentDetailCreatedAt"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Thời gian thanh toán:</span> <span id="paymentDetailPaidAt"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Người duyệt:</span> <span id="paymentDetailApprover"></span></div>
                            <div class="col-md-6 mb-3"><span class="label-bold">Trạng thái:</span> <span id="paymentDetailStatus"></span></div>
                        </div>
                    </div>
                    <div class="info-box">
                        <div class="section-title">Danh sách gói dịch vụ</div>
                        <div class="table-responsive">
                            <table class="table table-hover w-100">
                                <thead>
                                    <tr>
                                        <th>STT</th>
                                        <th>Gói dịch vụ</th>
                                        <th>Thời hạn</th>
                                        <th>Giá tiền</th>
                                        <th>Ngày hết hạn</th>
                                    </tr>
                                </thead>
                                <tbody id="paymentDetailTableBody">
                                    <!-- Dữ liệu sẽ được render động bằng JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>
</div>