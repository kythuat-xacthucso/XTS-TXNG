<div class="page-header">
    <h1 class="page-title">Sửa gói dịch vụ</h1>
    <p class="page-breadcrumb">Dịch vụ / Gói dịch vụ / Sửa</p>
</div>

<form id="servicePackageForm" class="service-package-form">
    <!-- Section 1: Thông tin gói dịch vụ (Mobile) -->
    <div class="accordion d-md-none mb-4" id="mobileAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#packageInfo"
                    aria-expanded="true">
                    <i class="fas fa-info-circle me-2"></i>
                    Thông tin gói dịch vụ
                </button>
            </h2>
            <div id="packageInfo" class="accordion-collapse collapse show" data-bs-parent="#mobileAccordion">
                <div class="accordion-body">
                    <div class="package-info-content">
                        <div class="mb-3">
                            <label for="packageName" class="form-label">
                                Tên gói <span class="text-danger">*</span>
                            </label>
                            <input type="text" class="form-control" id="packageName" name="packageName" maxlength="128"
                                required placeholder="Nhập tên gói dịch vụ" value="">
                            <div class="form-text">Tối đa 128 ký tự</div>
                            <div class="invalid-feedback">Vui lòng nhập tên gói dịch vụ</div>
                        </div>

                        <div class="mb-3">
                            <label for="packageCode" class="form-label">
                                Mã gói <span class="text-danger">*</span>
                            </label>
                            <input type="text" class="form-control" id="packageCode" name="packageCode" maxlength="16"
                                required placeholder="Nhập mã gói" pattern="[A-Za-z0-9]+" value="">
                            <div class="form-text">Tối đa 16 ký tự, chỉ chữ và số</div>
                            <div class="invalid-feedback">Mã gói chỉ được chứa chữ và số, tối đa 16 ký tự</div>
                        </div>

                        <div class="mb-3">
                            <label for="duration" class="form-label">
                                Thời gian <span class="text-danger">*</span>
                            </label>
                            <input type="text" class="form-control" id="duration" name="duration" readonly value="12 tháng">
                        </div>

                        <div class="mb-3">
                            <label for="parameter" class="form-label">
                                Tham số <span class="text-danger">*</span>
                            </label>
                            <select class="form-select" id="parameter" name="parameter" required>
                                <option value="">Chọn tham số</option>
                                <!-- Options will be dynamically populated via JS -->
                            </select>
                            <div class="invalid-feedback">Vui lòng chọn tham số</div>
                        </div>

                        <div class="mb-3">
                            <label for="price" class="form-label">
                                Đơn giá
                            </label>
                            <input type="text" class="form-control" id="price" name="price" readonly placeholder="0 VNĐ" value="">
                        </div>

                        <div class="mb-3">
                            <label for="quantity" class="form-label">
                                Số lượng <span class="text-danger">*</span>
                            </label>
                            <input type="number" class="form-control" id="quantity" name="quantity" min="1" value="1" required>
                            <div class="invalid-feedback">Số lượng phải lớn hơn hoặc bằng 1</div>
                        </div>

                        <div class="mb-3">
                            <label for="total" class="form-label">
                                Thành tiền
                            </label>
                            <input type="text" class="form-control" id="total" name="total" readonly placeholder="0 VNĐ" value="">
                        </div>

                        <div class="mb-3">
                            <label for="mobileDiscount" class="form-label">
                                Chiết khấu
                            </label>
                            <input type="number" class="form-control" id="mobileDiscount" name="discount" min="0" value="0" placeholder="0">
                        </div>

                        <div class="mb-3">
                            <label for="mobileFinalCost" class="form-label">
                                Chi phí phải trả
                            </label>
                            <input type="text" class="form-control" id="mobileFinalCost" name="finalCost" readonly placeholder="0 VNĐ" value="">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Trạng thái <span class="text-danger">*</span></label>
                            <div class="d-flex gap-3">
                                <div class="form-check">
                                    <input type="radio" class="form-check-input" id="statusActive" name="status" value="active" required>
                                    <label class="form-check-label" for="statusActive">Đang hoạt động</label>
                                </div>
                                <div class="form-check">
                                    <input type="radio" class="form-check-input" id="statusLocked" name="status" value="locked">
                                    <label class="form-check-label" for="statusLocked">Khóa</label>
                                </div>
                            </div>
                            <div class="invalid-feedback">Vui lòng chọn trạng thái</div>
                        </div>

                        <div class="mb-3">
                            <label for="createdBy" class="form-label">
                                Người tạo
                            </label>
                            <input type="text" class="form-control" id="createdBy" name="createdBy" readonly value="">
                        </div>

                        <div class="mb-3">
                            <label for="createdAt" class="form-label">
                                Thời gian tạo
                            </label>
                            <input type="text" class="form-control" id="createdAt" name="createdAt" readonly value="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 1: Thông tin gói dịch vụ (Desktop) -->
    <div class="d-none d-md-block">
        <div class="content-card mb-4">
            <h5 class="card-title mb-4">
                <i class="fas fa-info-circle me-2"></i>
                Thông tin gói dịch vụ
            </h5>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="packageNameDesktop" class="form-label">
                            Tên gói <span class="text-danger">*</span>
                        </label>
                        <input type="text" class="form-control" id="packageNameDesktop" name="packageName" maxlength="128"
                            required placeholder="Nhập tên gói dịch vụ" value="">
                        <div class="form-text">Tối đa 128 ký tự</div>
                        <div class="invalid-feedback">Vui lòng nhập tên gói dịch vụ</div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="packageCodeDesktop" class="form-label">
                            Mã gói <span class="text-danger">*</span>
                        </label>
                        <input type="text" class="form-control" id="packageCodeDesktop" name="packageCode" maxlength="16"
                            required placeholder="Nhập mã gói" pattern="[A-Za-z0-9]+" value="">
                        <div class="form-text">Tối đa 16 ký tự, chỉ chữ và số</div>
                        <div class="invalid-feedback">Mã gói chỉ được chứa chữ và số, tối đa 16 ký tự</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="durationDesktop" class="form-label">
                            Thời gian <span class="text-danger">*</span>
                        </label>
                        <input type="text" class="form-control" id="durationDesktop" name="duration" readonly value="12 tháng">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="parameterDesktop" class="form-label">
                            Tham số <span class="text-danger">*</span>
                        </label>
                        <select class="form-select" id="parameterDesktop" name="parameter" required>
                            <option value="">Chọn tham số</option>
                            <!-- Options will be dynamically populated via JS -->
                        </select>
                        <div class="invalid-feedback">Vui lòng chọn tham số</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="priceDesktop" class="form-label">
                            Đơn giá
                        </label>
                        <input type="text" class="form-control" id="priceDesktop" name="price" readonly placeholder="0 VNĐ" value="">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="quantityDesktop" class="form-label">
                            Số lượng <span class="text-danger">*</span>
                        </label>
                        <input type="number" class="form-control" id="quantityDesktop" name="quantity" min="1" value="1" required>
                        <div class="invalid-feedback">Số lượng phải lớn hơn hoặc bằng 1</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="totalDesktop" class="form-label">
                            Thành tiền
                        </label>
                        <input type="text" class="form-control" id="totalDesktop" name="total" readonly placeholder="0 VNĐ" value="">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="desktopDiscount" class="form-label">
                            Chiết khấu
                        </label>
                        <input type="number" class="form-control" id="desktopDiscount" name="discount" min="0" value="0" placeholder="0">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="desktopFinalCost" class="form-label">
                            Chi phí phải trả
                        </label>
                        <input type="text" class="form-control" id="desktopFinalCost" name="finalCost" readonly placeholder="0 VNĐ" value="">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">Trạng thái <span class="text-danger">*</span></label>
                        <div class="d-flex gap-3">
                            <div class="form-check">
                                <input type="radio" class="form-check-input" id="statusActiveDesktop" name="status" value="active" required>
                                <label class="form-check-label" for="statusActiveDesktop">Đang hoạt động</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" class="form-check-input" id="statusLockedDesktop" name="status" value="locked">
                                <label class="form-check-label" for="statusLockedDesktop">Khóa</label>
                            </div>
                        </div>
                        <div class="invalid-feedback">Vui lòng chọn trạng thái</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="createdByDesktop" class="form-label">
                            Người tạo
                        </label>
                        <input type="text" class="form-control" id="createdByDesktop" name="createdBy" readonly value="">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="createdAtDesktop" class="form-label">
                            Thời gian tạo
                        </label>
                        <input type="text" class="form-control" id="createdAtDesktop" name="createdAt" readonly value="">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Buttons - Sticky on mobile -->
    <div class="action-buttons">
        <div class="d-flex gap-3 justify-content-end">
            <button type="button" class="btn btn-secondary" onclick="window.adminLayout.loadContent('service-packages')">
                <i class="fas fa-arrow-left me-2"></i>Quay lại
            </button>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-check me-2"></i>Lưu
            </button>
        </div>
    </div>
</form>